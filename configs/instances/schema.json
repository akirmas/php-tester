{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "$id": "instances_schema.json#",
  "type": "object",
  "properties": {
    "request": {
      "type": "object",
      "properties": {
        "engine": {
          "type": "object",
          "properties": {
            "gateway": {
              "type": "string",
              "format": "uri"
            },
            "method": {
              "enum": ["GET", "POST"]
            }
          },
          "additionalProperties": false
        },
        "fields": {
          "file": "fields_schema.json#"
        },
        "values": {
          "type": "object",
          "properties": {
            "installments": {
              "type": "object",
              "$filters": {
                "$func": "match",
                "$vars": {
                  "value": { "$ref": "2/fields/installments" }
                }
              }
            },
              "account": {
              "type": "object",
              "$filters": {
                "$func": "match",
                "$vars": {
                  "value": { "$ref": "2/fields/account" }
                }
              }
            },
              "verify": {
              "type": "object",
              "$filters": {
                "$func": "match",
                "$vars": {
                  "value": { "$ref": "2/fields/verify" }
                }
              }
            },
              "amount": {
              "type": "object",
              "$filters": {
                "$func": "match",
                "$vars": {
                  "value": { "$ref": "2/fields/amount" }
                }
              }
            },
              "currency:final": {
              "type": "object",
              "$filters": {
                "$func": "match",
                "$vars": {
                  "value": { "$ref": "2/fields/currency:final" }
                }
              }
            },
              "cc:number": {
              "type": "object",
              "$filters": {
                "$func": "match",
                "$vars": {
                  "value": { "$ref": "2/fields/cc:number" }
                }
              }
            },
              "cc:expire:month": {
              "type": "object",
              "$filters": {
                "$func": "match",
                "$vars": {
                  "value": { "$ref": "2/fields/cc:expire:month" }
                }
              }
            },
              "cc:expire:year": {
              "type": "object",
              "$filters": {
                "$func": "match",
                "$vars": {
                  "value": { "$ref": "2/fields/cc:expire:year" }
                }
              }
            },
              "cc:cvv": {
              "type": "object",
              "$filters": {
                "$func": "match",
                "$vars": {
                  "value": { "$ref": "2/fields/cc:cvv" }
                }
              }
            },
              "phone": {
              "type": "object",
              "$filters": {
                "$func": "match",
                "$vars": {
                  "value": { "$ref": "2/fields/phone" }
                }
              }
            },
              "email": {
              "type": "object",
              "$filters": {
                "$func": "match",
                "$vars": {
                  "value": { "$ref": "2/fields/email" }
                }
              }
            },
              "name:full": {
              "type": "object",
              "$filters": {
                "$func": "match",
                "$vars": {
                  "value": { "$ref": "2/fields/name:full" }
                }
              }
            },
              "address:country:ISO": {
              "type": "object",
              "$filters": {
                "$func": "match",
                "$vars": {
                  "value": { "$ref": "2/fields/address:country:ISO" }
                }
              }
            },
              "address:zip": {
              "type": "object",
              "$filters": {
                "$func": "match",
                "$vars": {
                  "value": { "$ref": "2/fields/address:zip" }
                }
              }
            }, 
              "address:city": {
              "type": "object",
              "$filters": {
                "$func": "match",
                "$vars": {
                  "value": { "$ref": "2/fields/address:city" }
                }
              }
            },
              "address:0": {
              "type": "object",
              "$filters": {
                "$func": "match",
                "$vars": {
                  "value": { "$ref": "2/fields/address:0" }
                }
              }
            },
              "address:1": {
              "type": "object",
              "$filters": {
                "$func": "match",
                "$vars": {
                  "value": { "$ref": "2/fields/address:1" }
                }
              }
            },
              "nextUrl": {
              "type": "object",
              "$filters": {
                "$func": "match",
                "$vars": {
                  "value": { "$ref": "2/fields/nextUrl" }
                }
              }
            }

          },
          "additionalProperties": false
        },
        "defaults": {
          "type": "object"
        },
        "overrides": {
          "type": "object"
        }
    },
    "additionalProperties": false
  },
  "response": {
    "type": "object",
    "properties": {
      "return:code": {
        "type": "string"
      }
    }
  }
  
  },
  "additionalProperties": false
}
